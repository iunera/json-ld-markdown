<!--
  ~ Copyright (C) 2025.  Tim Frey, Christian Schmitt
  ~
  ~ Licensed under the OPEN COMPENSATION TOKEN LICENSE (the "License").
  ~ You may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at <a href="https://www.license-token.com/license/text">https://www.license-token.com/license/text</a>
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either expressed or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  ~ @octl.sid: 5fecd757-5fec-d757-d757-00005fb33b80
  ~
  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Metadata Extractor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <style>
        .hljs {
            background: #1f2937 !important;
            border-radius: 0.5rem;
            padding: 1rem;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        textarea, input, select {
            transition: all 0.2s ease;
        }

        textarea:focus, input:focus, select:focus {
            transform: scale(1.01);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-left: 8px;
        }

        .status-success {
            background-color: #10b981;
        }

        .status-error {
            background-color: #ef4444;
        }

        .status-processing {
            background-color: #f59e0b;
            animation: pulse 1s infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
<!-- Header -->
<header class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg">
    <div class="container mx-auto px-6 py-4">
        <h1 class="text-3xl font-bold text-center">Enhanced Metadata Extractor <span class="text-xl">by <a href="https://www.iunera.com" class="hover:underline">Iunera</a></span></h1>
        <p class="text-center text-blue-100 mt-2">Transform Markdown to JSON-LD with Advanced Table & Annotation Support</p>
    </div>
</header>

<!-- Main Content -->
<main class="container mx-auto px-6 py-8">
    <!-- Configuration Panel -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
            ‚öôÔ∏è Configuration
            <span id="configStatus" class="status-indicator status-success"></span>
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4">
            <div>
                <label for="type" class="block text-sm font-medium text-gray-700 mb-2">Schema Type</label>
                <select id="type" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <option value="Article" selected>Article</option>
                    <option value="NewsArticle">NewsArticle</option>
                    <option value="BlogPosting">BlogPosting</option>
                    <option value="TechArticle">TechArticle</option>
                    <option value="ScholarlyArticle">ScholarlyArticle</option>
                    <option value="HowTo">HowTo</option>
                    <option value="Report">Report</option>
                    <option value="SocialMediaPosting">SocialMediaPosting</option>
                    <option value="MedicalScholarlyArticle">MedicalScholarlyArticle</option>
                    <option value="SatiricalArticle">SatiricalArticle</option>
                    <option value="AdvertiserContentArticle">AdvertiserContentArticle</option>
                    <option value="WebPage">WebPage</option>
                </select>
            </div>
            <div>
                <label for="author" class="block text-sm font-medium text-gray-700 mb-2">Authors</label>
                <input type="text" id="author" placeholder="John Doe, Jane Smith"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            </div>
            <div>
                <label for="publisherName" class="block text-sm font-medium text-gray-700 mb-2">Publisher</label>
                <input type="text" id="publisherName" placeholder="Your Organization"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            </div>
            <div>
                <label for="publisherUrl" class="block text-sm font-medium text-gray-700 mb-2">Publisher URL</label>
                <input type="url" id="publisherUrl" placeholder="https://example.com"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            </div>
            <div>
                <label for="baseUrl" class="block text-sm font-medium text-gray-700 mb-2">Base URL</label>
                <input type="url" id="baseUrl" placeholder="https://example.com/blog/"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            </div>
            <div>
                <label for="slug" class="block text-sm font-medium text-gray-700 mb-2">Article Slug</label>
                <input type="text" id="slug" placeholder="my-article-title"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4">
            <div>
                <label for="date" class="block text-sm font-medium text-gray-700 mb-2">Publication Date</label>
                <input type="date" id="date"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            </div>
            <div>
                <label for="categories" class="block text-sm font-medium text-gray-700 mb-2">Categories</label>
                <input type="text" id="categories" placeholder="Technology, AI, Innovation"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            </div>
            <div>
                <label for="descLength" class="block text-sm font-medium text-gray-700 mb-2">Description Length</label>
                <input type="number" id="descLength" value="300" min="50" max="1000"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            </div>
        </div>
    </div>

    <!-- Main Processing Area -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Input Panel -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b">
                <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                    üìù Markdown Input
                    <span id="inputStatus" class="status-indicator status-success"></span>
                </h3>
                <p class="text-sm text-gray-600 mt-1">Enter your markdown with YAML front matter and inline annotations, or use the sample buttons below</p>
            </div>
            <div class="p-6">
                    <textarea id="markdownInput" rows="25"
                              class="w-full font-mono text-sm border border-gray-300 rounded-lg p-4 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                              placeholder="Enter your markdown content here..."></textarea>
                <div class="mt-4 flex items-center justify-between">
                    <div class="flex gap-2">
                        <button id="loadSample" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors">
                            Article Sample
                        </button>
                        <button id="loadHowToSample" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors">
                            HowTo Sample
                        </button>
                        <button id="loadTableSample" class="px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors">
                            Table Sample
                        </button>
                    </div>
                    <div class="text-sm text-gray-500">
                        <span id="charCount">0</span> characters
                    </div>
                </div>
            </div>
        </div>

        <!-- Output Panel -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b">
                <h3 class="text-lg font-semibold text-gray-800 flex items-center justify-between">
                        <span class="flex items-center">
                            üîó JSON-LD Output
                            <span id="outputStatus" class="status-indicator status-success"></span>
                        </span>
                    <div class="flex gap-2">
                        <button id="formatButton" class="px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors">
                            Format
                        </button>
                        <button id="copyButton" class="px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors">
                            Copy
                        </button>
                    </div>
                </h3>
                <p class="text-sm text-gray-600 mt-1">Generated structured data in JSON-LD format</p>
            </div>
            <div class="p-6">
                <div class="bg-gray-900 rounded-lg overflow-hidden">
                    <pre><code id="output" class="language-json text-sm"></code></pre>
                </div>
                <div class="mt-4 text-sm text-gray-500" id="outputInfo">
                    Ready to generate JSON-LD
                </div>
            </div>
        </div>
    </div>

    <!-- Statistics Panel -->
    <div class="mt-8 bg-white rounded-xl shadow-lg p-6">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">üìä Processing Statistics</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
            <div class="bg-blue-50 rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-blue-600" id="annotationCount">0</div>
                <div class="text-sm text-gray-600">Annotations</div>
            </div>
            <div class="bg-green-50 rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-green-600" id="faqCount">0</div>
                <div class="text-sm text-gray-600">FAQ Items</div>
            </div>
            <div class="bg-purple-50 rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-purple-600" id="sectionCount">0</div>
                <div class="text-sm text-gray-600">Sections</div>
            </div>
            <div class="bg-orange-50 rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-orange-600" id="tableCount">0</div>
                <div class="text-sm text-gray-600">Tables</div>
            </div>
            <div class="bg-pink-50 rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-pink-600" id="listCount">0</div>
                <div class="text-sm text-gray-600">Lists</div>
            </div>
            <div class="bg-indigo-50 rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-indigo-600" id="entityCount">0</div>
                <div class="text-sm text-gray-600">Total Entities</div>
            </div>
        </div>
    </div>
</main>

<!-- Links Section -->
<section class="bg-blue-50 py-6 mt-12 border-t border-blue-100">
    <div class="container mx-auto px-6 text-center">
        <h3 class="text-lg font-semibold text-gray-800 mb-3">Resources</h3>
        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto text-left">
            <div class="bg-white p-4 rounded-lg shadow-sm">
                <h4 class="font-semibold text-blue-700 mb-2">GitHub Repository</h4>
                <p class="text-gray-600 text-sm">
                    Our GitHub repository contains the complete source code for the markdown-to-json-ld library. 
                    Visit to explore the implementation, report issues, suggest improvements, or contribute to the project. 
                    The repository includes examples, documentation, and the website code you're currently using.
                </p>
                <div class="mt-3">
                    <a href="https://github.com/iunera/json-ld-markdown" class="text-blue-600 hover:underline flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        GitHub Repo
                    </a>
                </div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow-sm">
                <h4 class="font-semibold text-blue-700 mb-2">NPM Package</h4>
                <p class="text-gray-600 text-sm">
                    The NPM package allows you to integrate the markdown-to-json-ld library into your own projects.
                    Install it using npm or yarn to transform Markdown content with YAML front matter into structured JSON-LD data.
                    The package is regularly updated and includes all the features demonstrated on this website.
                </p>
                <div class="mt-3">
                    <a href="https://www.npmjs.com/package/markdown-to-json-ld" class="text-blue-600 hover:underline flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 0v24h24v-24h-24zm13 21h-2v-9h-3v9h-5v-18h10v18zm8 0h-5v-18h5v18z"/>
                        </svg>
                        NPM Package
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="bg-gray-800 text-white py-8">
    <div class="container mx-auto px-6 text-center">
        <p class="text-gray-300">Enhanced Metadata Extractor - Transform your content into structured data</p>
        <p class="text-gray-400 text-sm mt-2">Enter markdown content or click sample buttons to get started. YAML metadata auto-populates form fields.</p>
        <p class="text-gray-400 text-sm mt-4">Powered by <a href="https://www.iunera.com" class="text-blue-300 hover:underline">Iunera</a></p>
    </div>
</footer>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
<!-- Load the library from CDN -->
<script src="https://unpkg.com/markdown-to-json-ld@1.0.2/dist/markdown-to-json-ld.js"></script>
<script type="module" src="./js/ui-controller.js"></script>
</body>
</html>
